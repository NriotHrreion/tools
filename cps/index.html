<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <title>CPS test</title>
    <link rel="icon" href="favicon.ico"/>
    <script type="text/javascript">
        var btn = document.getElementById("cps_btn");
        var cps = 0;
        var time_stat = false;

        function click_btn() {
            cps++;
            if(time_stat == false) {
                time();
                time_stat = true;
            }
            document.getElementById("score").innerHTML = cps;
        }

        function time() {
            var time = document.getElementById("time");
            for(var i = 0; i <= 10; i++) {
                (function(i) {
                    setTimeout(function() {
                        time.innerHTML = i;
                        if(i == 10) {
                            document.getElementById("cps_btn").style.display = "none";
                            var clicks = parseInt(document.getElementById("score").innerHTML);
                            var score = clicks / 10;
                            alert("你的分数(平均每秒)："+ score);
                            document.getElementById("score").innerHTML = score;
                        }
                    }, i * 1000);
                })(i)
            }
        }

        function reset() {
            window.location.reload();
        }
    </script>
    <style type="text/css">
        #score {
            text-align: center;
            font-weight: bold;
        }
        #time {
            text-align: center;
        }
        #cps_btn {
            width: 100%;
            height: 270px;
        }
    </style>
</head>
<body>
    <h1>CPS 测试</h1>
    <p>By NriotHrreion</p>
    <button onclick="reset()">重置</button>
    <hr />
    score:<p id="score">0</p>
    <button id="cps_btn" onclick="click_btn()">点我！！！！！！</button>
    time:<p id="time">0</p>
</body>
</html>
